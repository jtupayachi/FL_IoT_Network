[93mWARNING [0m:   DEPRECATED FEATURE: flwr.server.start_server() is deprecated.
	Instead, use the `flower-superlink` CLI command to start a SuperLink as shown below:

		$ flower-superlink --insecure

	To view usage and all available options, run:

		$ flower-superlink --help

	Using `start_server()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
[92mINFO [0m:      Starting Flower server, config: num_rounds=10, no round_timeout
[92mINFO [0m:      Flower ECE: gRPC server running (10 rounds), SSL is disabled
[92mINFO [0m:      [INIT]
[92mINFO [0m:      Requesting initial parameters from one random client
[92mINFO [0m:      Received initial parameters from one random client
[92mINFO [0m:      Starting evaluation of initial global parameters
üöÄ Starting NASA Federated Learning Server
==================================================
Experiment ID: nasa_25c_alpha_0.1_fedavg
Algorithm: FEDAVG
Server: localhost:8686
Rounds: 10
Strategy: fedavg
Min Clients: 25
Results Directory: /home/jose/FL_IoT_Network/scale/results/run_20251029_084932/nasa_25c_alpha_0.1_fedavg
==================================================
üîÑ Starting FL server on localhost:8686...
‚ùå Server error: cannot access local variable 'eval_metrics' where it is not associated with a value
Traceback (most recent call last):
  File "/home/jose/FL_IoT_Network/scale/server.py", line 1032, in <module>
    main()
  File "/home/jose/FL_IoT_Network/scale/server.py", line 898, in main
    run_server(args)
  File "/home/jose/FL_IoT_Network/scale/server.py", line 1018, in run_server
    fl.server.start_server(
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/compat/server/app.py", line 164, in start_server
    hist = run_fl(
           ^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/server/server.py", line 492, in run_fl
    hist, elapsed_time = server.fit(
                         ^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/FL_IoT_Network/scale/server.py", line 1004, in evaluate
    return 0.0, eval_metrics
                ^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'eval_metrics' where it is not associated with a value
Exception in thread Thread-1 (_serve):
Traceback (most recent call last):
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py", line 1045, in _bootstrap_inner
    self.run()
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py", line 982, in run
    self._target(*self._args, **self._kwargs)
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/grpc/_server.py", line 1321, in _serve
    if not _process_event_and_continue(state, event):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/grpc/_server.py", line 1275, in _process_event_and_continue
    rpc_state, rpc_future = _handle_call(
                            ^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/grpc/_server.py", line 1116, in _handle_call
    _handle_with_method_handler(
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/grpc/_server.py", line 1044, in _handle_with_method_handler
    return _handle_stream_stream(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/grpc/_server.py", line 969, in _handle_stream_stream
    return thread_pool.submit(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/concurrent/futures/thread.py", line 169, in submit
    raise RuntimeError('cannot schedule new futures after '
RuntimeError: cannot schedule new futures after interpreter shutdown
Exception ignored in: <module 'threading' from '/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py'>
Traceback (most recent call last):
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py", line 1560, in _shutdown
    atexit_call()
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/concurrent/futures/thread.py", line 31, in _python_exit
    t.join()
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py", line 1119, in join
    self._wait_for_tstate_lock()
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/threading.py", line 1139, in _wait_for_tstate_lock
    if lock.acquire(block, timeout):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/common/exit/signal_handler.py", line 93, in graceful_exit_handler
    flwr_exit(
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/common/exit/exit.py", line 79, in flwr_exit
    event(event_type, event_details).result()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/site-packages/flwr/common/telemetry.py", line 211, in event
    result = executor.submit(create_event, event_type, event_details)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jose/.conda/envs/flwr-nasa/lib/python3.11/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')
RuntimeError: cannot schedule new futures after shutdown
